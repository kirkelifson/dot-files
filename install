#!/bin/zsh

# grab directory structure
_dir="$(dirname $(readlink -f $0))"

# install oh-my-zsh if not installed
if [ ! -d ~/.oh-my-zsh ]; then
    wget --no-check-certificate https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh
fi

# Installation:

# vim
rm -rf ~/.vim

ln -sb $_dir/.vimrc ~/
cp -r $_dir/.vim ~/

# zsh
ln -sb $_dir/.zshrc ~/
ln -sb $_dir/.zshenv ~/

# tmux
ln -sb $_dir/.tmux.conf ~/

# git
ln -sb $_dir/.gitconfig ~/

# gdb
ln -sb $_dir/.gdbinit ~/

# scripts
ln -sb $_dir/update ~/

# delete all duplicated symlinks
rm ~/.*~
rm ~/update~

# install vundle
if [ ! -d ~/.vim/bundle/vundle ]; then
    git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle &> /dev/null
fi

vim +PluginInstall +qall

# execute zshrc to utilize new config
source ~/.zshrc
