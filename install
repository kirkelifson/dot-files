#!/bin/zsh

echo -ne "Installing dot-files:\n\n"

# grab directory structure
_dir="$(dirname $(readlink -f $0))"

# install oh-my-zsh if not installed
if [ ! -d ~/.oh-my-zsh ]; then
    echo -ne "Downloading oh-my-zsh....\n"
    wget --no-check-certificate https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh
fi

# Installation:

echo -ne "Creating soft-links to dot-files.\n"

# vim
ln -sf $_dir/.vimrc ~
cp -r $_dir/.vim ~
# zsh
ln -sf $_dir/.zshrc ~
ln -sf $_dir/.zshenv ~
# tmux
ln -sf $_dir/.tmux.conf ~
# git
ln -sf $_dir/.gitconfig ~
# gdb
ln -sf $_dir/.gdbinit ~
# update script
ln -sf $_dir/update ~

# install vundle
if [ ! -d ~/.vim/bundle/vundle ]; then
    echo -ne "Installing vundle.\n"
    git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle &> /dev/null
fi

echo -ne "Installing new vundles.\n"
vim +PluginInstall +qall

echo -ne "\nReloading zshrc with new config.\n"
# execute zshrc to utilize new config
source ~/.zshrc
